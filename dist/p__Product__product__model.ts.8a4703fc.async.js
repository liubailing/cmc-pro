(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"1mut":function(t,e,a){"use strict";var r=a("mZ4U");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=r(a("mK77"));a("J715");var n=r(a("v6rT")),s=r(a("Ico4")),c=a("wPKw"),d=a("DWJA"),o={namespace:"product",state:{list:[],pagination:{pageNum:1,total:0}},effects:{getList:s.default.mark(function t(e,a){var r,u,n,d;return s.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.payload,u=a.call,n=a.put,t.next=4,u(c.fetchProduct,r);case 4:if(d=t.sent,0!==d.status){t.next=8;break}return t.next=8,n({type:"setList",payload:d.data});case 8:case"end":return t.stop()}},t)}),setStatus:s.default.mark(function t(e,a){var r,u,d,o,l,p,i;return s.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.payload,u=a.call,d=a.put,o=a.select,t.next=4,u(c.setProductStatus,r);case 4:if(l=t.sent,0!==l.status){t.next=15;break}return n.default.success(l.data||"\u4fee\u6539\u4ea7\u54c1\u72b6\u6001\u6210\u529f"),t.next=9,o(function(t){return t});case 9:return p=t.sent,i=p.product.list.map(function(t){return t.id===r.productId?(t.status=r.status,t):t}),t.next=13,d({type:"changeStatus",payload:i});case 13:t.next=16;break;case 15:n.default.error(l.data||"\u4fee\u6539\u4ea7\u54c1\u72b6\u6001\u5931\u8d25");case 16:case"end":return t.stop()}},t)}),create:s.default.mark(function t(e,a){var r,u,o,l;return s.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.payload,u=a.call,o=a.put,t.next=4,u(c.createProduct,r);case 4:if(l=t.sent,0!==l.status){t.next=11;break}return n.default.success(l.data||"\u65b0\u5efa\u4ea7\u54c1\u6210\u529f"),t.next=9,o(d.routerRedux.push("/product/product"));case 9:t.next=12;break;case 11:n.default.error(l.data||"\u65b0\u5efa\u4ea7\u54c1\u5931\u8d25");case 12:case"end":return t.stop()}},t)})},reducers:{setList:function(t,e){var a=e.payload;return{list:a.list,pagination:{pageNum:a.pageNum,total:a.total}}},changeStatus:function(t,e){var a=e.payload;return(0,u.default)({},t,{list:a})}}},l=o;e.default=l}}]);